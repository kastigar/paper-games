<!DOCTYPE html>
<title>PaperRacing - PaperGames</title>
<script src="kinetic-v3.9.3.min.js"></script>
<script src="underscore.js"></script>
<script src="kinetic-ext.js"></script>
<script src="coffee-script.js"></script>

<script type="text/coffeescript" src="sheet.coffee"></script>
<script type="text/coffeescript" src="race-server.coffee"></script>
<script type="text/coffeescript" src="race-menu.coffee"></script>
<script type="text/coffeescript" src="single-race.coffee"></script>
<script type="text/coffeescript" src="race.coffee"></script>
<script type="text/coffeescript" src="track.coffee"></script>

<script type="text/coffeescript">
  $id = (id)-> document.getElementById(id)

  $id("StartButton").onclick = ->
    name = $id("PlayerName").value

    if name.length == 0
      $id("ErrorBox").innerHTML = "Type your name please"
      return

    $id("NameForm").parentElement.removeChild($id("NameForm"))

    paperSheet = new PaperSheet
      container: "container"

    new RaceServerActor
      player:
        name: name
      onReady: (server) ->
        menu = new RaceMenu paperSheet, server
        menu.show()
</script>

<div id="NameForm">
  <input id="PlayerName" value="Name" placeholder="Player Name" />
  <button id="StartButton">Start</button>
  <div id="ErrorBox" style="color:red"></div>
</div>

<div id="container"></div>
